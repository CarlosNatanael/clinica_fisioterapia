{% extends "base.html" %}
{% block title %}Relat√≥rio Financeiro{% endblock %}
{% block content %}
<div class="container-large">
    <h1>Relat√≥rio Financeiro Geral</h1>
    <div class="dashboard-menu">
        <div class="menu-card-static">
            <div class="card-icon">üí∞</div>
            <div class="card-title">{{ ganho_total|brl }}</div>
            <div class="card-description">Faturamento Total</div>
        </div>
        <div class="menu-card-static">
            <div class="card-icon">üíµ</div>
            <div class="card-title">{{ ganho_mes|brl }}</div>
            <div class="card-description">Faturamento no M√™s</div>
        </div>
        <div class="menu-card-static">
            <div class="card-icon">‚è≥</div>
            <div class="card-title">{{ total_pendente|brl }}</div>
            <div class="card-description">Total a Receber</div>
        </div>
    </div>
    <hr>
    
    <h2>Hist√≥rico de Entradas</h2>
    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Paciente</th>
                    <th>Descri√ß√£o / Origem</th>
                    <th>Valor</th>
                </tr>
            </thead>
            <tbody>
                {% for item in historico %}
                <tr>
                    <td>{{ item.data | format_datetime }}</td>
                    <td>{{ item.paciente_nome }}</td>
                    <td>{{ item.tipo }}</td>
                    <td>{{ item.valor | brl }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="4" style="text-align: center;">Nenhum pagamento registrado ainda.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}